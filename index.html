<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>ƒ∞DT Repertuvar Y√∂netimi</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #e9ded1; --card: #fbf7f1; --text: #16161a; --muted: #5a5560; --line: #dccbb7;
            --accent: #7a1e2c; --accent2: #c07a2a; --ok: #18794e; --bad: #b42318;
            --radius: 18px; --shadow: 0 10px 30px rgba(24,16,8,0.12);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 80px; overflow-x: hidden; }

        /* Header */
        header { 
            background: var(--card); padding: 1rem 1.5rem; display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000; border-bottom: 2px solid var(--accent); box-shadow: var(--shadow);
        }
        .brand { font-family: 'Playfair Display', serif; font-size: 1.3rem; color: var(--accent); }
        .btn-sheet { 
            background: #1d6f42; color: white; padding: 8px 12px; border-radius: 12px; 
            text-decoration: none; font-size: 0.8rem; font-weight: 600; display: flex; align-items: center; gap: 5px;
        }

        /* Dash Controls */
        .controls { padding: 1.5rem; max-width: 1200px; margin: auto; }
        .search-wrapper { position: relative; width: 100%; }
        #q { 
            width: 100%; padding: 16px 20px; border-radius: var(--radius); border: 1px solid var(--line); 
            background: var(--card); box-shadow: var(--shadow); outline: none; font-size: 1rem;
        }

        /* KPI Grid */
        .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; padding: 0 1.5rem; margin-bottom: 2rem; }
        .kpi { background: var(--card); padding: 1.2rem; border-radius: var(--radius); border-left: 5px solid var(--accent); box-shadow: var(--shadow); }
        .kpi small { color: var(--muted); font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .kpi div { font-size: 1.6rem; font-weight: 700; margin-top: 5px; color: var(--accent); }

        /* Views */
        .view { display: none; padding: 1.5rem; animation: slideUp 0.3s ease; }
        .view.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Table & Card Design */
        .data-card { background: var(--card); padding: 1rem; border-radius: 14px; margin-bottom: 1rem; border: 1px solid var(--line); box-shadow: var(--shadow); }
        .data-card h4 { margin: 0 0 5px 0; color: var(--accent); }
        .data-card .meta { font-size: 0.85rem; color: var(--muted); display: flex; justify-content: space-between; }

        /* Tabbar */
        .tabbar { 
            position: fixed; bottom: 0; left: 0; right: 0; background: var(--card); 
            display: flex; justify-content: space-around; padding: 10px 5px 25px 5px;
            border-top: 1px solid var(--line); z-index: 1000; box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
        }
        .tab-btn { background: none; border: none; color: var(--muted); display: flex; flex-direction: column; align-items: center; gap: 5px; flex: 1; cursor: pointer; }
        .tab-btn.active { color: var(--accent); font-weight: 700; }
        .tab-btn span { font-size: 1.3rem; }
        .tab-btn label { font-size: 0.65rem; text-transform: uppercase; }

        /* Status Toast */
        #status { position: fixed; top: 75px; right: 20px; padding: 10px 20px; border-radius: 30px; z-index: 1100; font-size: 0.8rem; font-weight: 600; display: none; }
        .st-ok { background: var(--ok); color: white; }
        .st-err { background: var(--bad); color: white; }

        /* Analiz/√áakƒ±≈üma Tasarƒ±mƒ± */
        .cakisma-item { border-left: 4px solid var(--bad); background: #fff5f5; padding: 10px; border-radius: 8px; margin-bottom: 10px; }

    </style>
</head>
<body>

<header>
    <div class="brand">ƒ∞DT <strong>Takip</strong></div>
    <a href="https://docs.google.com/spreadsheets/d/1sIzswZnMkyRPJejAsE_ylSKzAF0RmFiACP4jYtz-AE0/edit" target="_blank" class="btn-sheet">
        üü¢ <span>Sheets'i A√ß</span>
    </a>
</header>

<div id="status"></div>

<div class="controls">
    <div class="search-wrapper">
        <input type="text" id="q" placeholder="Oyun, ki≈üi veya g√∂rev ara...">
    </div>
</div>

<div class="kpi-grid">
    <div class="kpi">
        <small>Toplam Oyun</small>
        <div id="statOyun">-</div>
    </div>
    <div class="kpi">
        <small>Bildirim</small>
        <div id="statNotif" style="color:var(--accent2)">0</div>
    </div>
</div>

<main id="content">
    <section id="viewPanel" class="view active">
        <div id="mainList"></div>
    </section>

    <section id="viewAnaliz" class="view">
        <div id="cakismaContent"></div>
    </section>

    <section id="viewFiguran" class="view">
        <div id="figuranList"></div>
    </section>

    <section id="viewGrafik" class="view">
        <canvas id="chartMain"></canvas>
    </section>
</main>

<nav class="tabbar">
    <button class="tab-btn active" onclick="switchTab('Panel', this)"><span>üìã</span><label>Panel</label></button>
    <button class="tab-btn" onclick="switchTab('Analiz', this)"><span>‚ö†Ô∏è</span><label>Analiz</label></button>
    <button class="tab-btn" onclick="switchTab('Figuran', this)"><span>üë•</span><label>Fig√ºran</label></button>
    <button class="tab-btn" onclick="switchTab('Grafik', this)"><span>üìä</span><label>Grafik</label></button>
</nav>

<script src="app.js"></script>
</body>
</html>
